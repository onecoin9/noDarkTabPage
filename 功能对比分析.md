# Tomato Tabs vs 你的项目 - 功能对比分析

> **实际网站访问**: https://jiangjiang.cc/  
> **最后更新**: 2025年12月30日

## 🌐 实际网站功能分析（jiangjiang.cc）

### **核心界面元素**

#### 1. **顶部信息栏**
- ⏰ **实时时钟** - 精确到秒（如：16:03:46）
- 📅 **完整日期** - 2025年12月30日星期二（包含星期）
- 🔍 **搜索引擎指示** - 显示当前使用的搜索引擎（如 "Bing"）

#### 2. **壁纸系统**（重要差异点）
- 📸 **动态壁纸** - 必应每日壁纸自动更新
- 💾 **壁纸下载** - "喜欢此壁纸？点击拿下"（**你的项目没有**）
- ℹ️ **壁纸信息** - 显示壁纸来源和版权说明
- 🎨 **壁纸交互** - 用户可以保存喜欢的壁纸

#### 3. **工作空间入口**
- 📋 **Notion 集成** - 顶部有明显的 "工作空间" 按钮
- 🔗 **快速访问** - 一键打开 Notion 数据库
- 💼 **任务管理** - 直接在新标签页管理工作流

#### 4. **每日诗词**
- 📖 **诗词展示** - 如 "读万卷书，行万里路。"
- 🎲 **随机生成** - 每次刷新更换不同诗词
- 🇨🇳 **文化元素** - 融入中国传统文化

#### 5. **Cookie/隐私提示**
- 🍪 **首次访问提示** - Cookie 使用说明弹窗
- ⚙️ **自定义设置** - 可选择"接受"/"拒绝"/"自定义设置"
- 📊 **数据用途说明**:
  - 📱 保存您的网站收藏
  - 🎨 记住界面设置
  - ☁️ 同步云端数据
  - 📊 性能分析
- 🔒 **隐私政策链接** - 符合 GDPR/数据合规要求

#### 6. **AI 协作声明**
页面明确说明是"AI友好"的个性化便签页面，并列出协作的AI工具：
- Claude
- Coze
- Kiro
- Copilot

---

## 📊 功能清单对比

### ✅ 已实现功能

| 功能 | 你的项目 | jiangjiang.cc | 完成度 |
|------|----------|---------------|--------|
| 实时时钟 | ✅ 可选秒数 | ✅ 精确到秒 + 星期 | 90% |
| 多引擎搜索 | ✅ (Google/百度/Bing) | ✅ + 显示当前引擎 | 95% |
| 书签管理 | ✅ (基础) | ✅ (高级) | 60% |
| 自定义背景 | ✅ (渐变/图片/纯色) | ✅ (动态壁纸) | 70% |
| Custom CSS | ✅ | ❌ | 🌟 **你独有** |
| 配置导入导出 | ✅ | ✅ | 100% |
| 暗黑模式 | ❌ | ✅ | 0% |
| 响应式设计 | ✅ | ✅ | 100% |
| 流畅动效 | ✅ Framer Motion | ✅ Framer Motion | 100% |
| TypeScript | ✅ | ✅ | 100% |
| **壁纸下载** | ❌ | ✅ "喜欢此壁纸？点击拿下" | 🔴 **0%** |
| **诗词展示** | ❌ | ✅ 每日随机诗词 | 🔴 **0%** |
| **Cookie提示** | ❌ | ✅ 合规弹窗 | 🔴 **0%** |
| **Notion集成** | ❌ | ✅ 工作空间按钮 | 🔴 **0%** |
| **隐私政策** | ❌ | ✅ 完整页面 | 🔴 **0%** |

---

## ❌ 缺失功能（jiangjiang.cc 有，你没有）

### 1. **视觉与 UI** 🎨

#### 1.1 动态壁纸系统 + 下载功能 ⭐⭐⭐
- **状态**: ❌ 未实现
- **对方实现**: 
  - ✅ 每日自动更新必应高清壁纸
  - ✅ **壁纸下载按钮** - "喜欢此壁纸？点击拿下"
  - ✅ 壁纸版权信息展示
  - ✅ 壁纸来源说明
- **用户价值**: 🔴 高 - 核心视觉差异
- **建议实现**:
```typescript
// 1. 获取必应壁纸
interface BingWallpaper {
  url: string;
  copyright: string;
  title: string;
}

async function fetchBingWallpaper(): Promise<BingWallpaper> {
  const res = await fetch('https://bing.com/HPImageArchive.aspx?format=js&idx=0&n=1');
  const data = await res.json();
  const image = data.images[0];
  return {
    url: `https://bing.com${image.url}`,
    copyright: image.copyright,
    title: image.title
  };
}

// 2. 下载壁纸功能
async function downloadWallpaper(url: string, filename: string) {
  const res = await fetch(url);
  const blob = await res.blob();
  const link = document.createElement('a');
  link.href = URL.createObjectURL(blob);
  link.download = filename;
  link.click();
}
```

#### 1.2 视差效果（Parallax）
- **状态**: ❌ 未实现
- **对方实现**: 鼠标移动时背景产生深度感
- **建议实现**:
```typescript
useEffect(() => {
  const handleMouseMove = (e: MouseEvent) => {
    const x = (e.clientX / window.innerWidth - 0.5) * 20;
    const y = (e.clientY / window.innerHeight - 0.5) * 20;
    bgRef.current.style.transform = `translate(${x}px, ${y}px)`;
  };
  window.addEventListener('mousemove', handleMouseMove);
}, []);
```

#### 1.3 毛玻璃效果（Glassmorphism）
- **状态**: ⚠️ 部分实现（书签卡片有）
- **对方实现**: 全局组件采用毛玻璃美学
- **优化建议**: 统一组件样式，增加 `backdrop-blur-md` 和半透明背景

#### 1.4 暗黑模式
- **状态**: ❌ 未实现
- **对方实现**: 一键切换明暗主题
- **建议实现**:
```typescript
// 添加到 AppSettings
interface AppSettings {
  theme: 'light' | 'dark' | 'auto';
  // ...
}

// Zustand store
setTheme: (theme) => set((state) => ({
  settings: { ...state.settings, theme }
}))
```

---

### 2. **核心功能** 🛠️

#### 2.1 书签拖拽排序
- **状态**: ❌ 未实现（只能右键删除）
- **对方实现**: React DnD 实现拖拽重排
- **建议实现**:
```typescript
// 安装: npm install @dnd-kit/core @dnd-kit/sortable
import { DndContext, closestCenter } from '@dnd-kit/core';
import { SortableContext, arrayMove } from '@dnd-kit/sortable';

function handleDragEnd(event) {
  const { active, over } = event;
  if (active.id !== over.id) {
    const oldIndex = bookmarks.findIndex(b => b.id === active.id);
    const newIndex = bookmarks.findIndex(b => b.id === over.id);
    reorderBookmarks(arrayMove(bookmarks, oldIndex, newIndex));
  }
}
```

#### 2.2 云端同步
- **状态**: ❌ 未实现（仅 localStorage）
- **对方实现**: Supabase 实时同步
- **影响**: 无法跨设备同步数据
- **建议实现**: 参考下方 Supabase 集成方案

#### 2.3 书签自动获取图标
- **状态**: ❌ 未实现（手动输入 Emoji）
- **对方实现**: 自动抓取网站 favicon
- **建议实现**:
```typescript
function getFaviconUrl(url: string): string {
  try {
    const domain = new URL(url).hostname;
    return `https://www.google.com/s2/favicons?domain=${domain}&sz=128`;
  } catch {
    return '🔗'; // 默认图标
  }
}
```

#### 2.4 书签分类/分组
- **状态**: ❌ 未实现
- **对方实现**: 支持创建多个书签组
- **建议实现**:
```typescript
interface BookmarkGroup {
  id: string;
  name: string;
  bookmarks: Bookmark[];
  icon?: string;
}
```

#### 2.5 全局搜索增强
- **状态**: ⚠️ 部分实现（只能搜索网页）
- **对方实现**: 同时搜索书签 + 网页
- **建议实现**:
```typescript
const filteredBookmarks = bookmarks.filter(b => 
  b.title.toLowerCase().includes(query.toLowerCase()) ||
  b.url.toLowerCase().includes(query.toLowerCase())
);
```

---

### 3. **集成与小组件** 🧩

#### 3.1 Notion 工作区集成
- **状态**: ❌ 未实现
- **对方实现**: 连接 Notion 数据库，显示任务
- **难度**: 🔴 高
- **建议**: 第二阶段实现

#### 3.2 每日诗词 ⭐⭐⭐
- **状态**: ❌ 未实现
- **对方实现**: 
  - ✅ 随机显示中国古诗词
  - ✅ 包含作者和出处
  - ✅ 每次刷新更换
  - ✅ 示例："读万卷书，行万里路。"
- **用户价值**: 🟡 中 - 文化特色
- **建议实现**:
```typescript
// API: https://v1.jinrishici.com/all.json
interface Poetry {
  content: string;   // 诗词内容
  author: string;    // 作者
  origin: string;    // 出处
}

async function fetchPoetry(): Promise<Poetry> {
  const res = await fetch('https://v1.jinrishici.com/all.json');
  const data = await res.json();
  return {
    content: data.content,
    author: data.author,
    origin: data.origin
  };
}

// 组件展示
function PoetryWidget() {
  const [poetry, setPoetry] = useState<Poetry | null>(null);
  
  useEffect(() => {
    fetchPoetry().then(setPoetry);
  }, []);
  
  return (
    <motion.div className="text-white/90 text-center">
      <p className="text-lg italic">"{poetry?.content}"</p>
      <p className="text-sm mt-2">—— {poetry?.author}《{poetry?.origin}》</p>
    </motion.div>
  );
}
```

#### 3.3 待办事项
- **状态**: ❌ 未实现
- **对方实现**: 内置简单的 Todo List
- **建议实现**:
```typescript
interface TodoItem {
  id: string;
  text: string;
  completed: boolean;
  createdAt: Date;
}

// 添加到 Zustand store
todos: TodoItem[];
addTodo: (text) => { /* ... */ };
toggleTodo: (id) => { /* ... */ };
removeTodo: (id) => { /* ... */ };
```

#### 3.4 天气小组件
- **状态**: ❌ 未实现
- **对方实现**: ❌ 也未实现
- **建议**: 可作为特色功能添加
```typescript
// 高德天气 API (免费)
// https://lbs.amap.com/api/webservice/guide/api/weatherinfo
```

---

### 4. **性能优化** ⚡

#### 4.1 多层缓存策略
- **状态**: ⚠️ 基础实现（Zustand persist）
- **对方实现**: Memory + IndexedDB 双层缓存
- **建议实现**:
```typescript
// 使用 idb-keyval 库
import { set, get } from 'idb-keyval';

// 壁纸缓存
async function getCachedWallpaper(date: string) {
  const cached = await get(`wallpaper-${date}`);
  if (cached) return cached;
  
  const fresh = await fetchBingWallpaper();
  await set(`wallpaper-${date}`, fresh);
  return fresh;
}
```

#### 4.2 图片懒加载
- **状态**: ❌ 未实现
- **对方实现**: 书签图标懒加载
- **建议实现**:
```typescript
<img 
  src={icon} 
  loading="lazy" 
  decoding="async"
/>
```

#### 4.3 代码分割
- **状态**: ⚠️ Vite 默认支持
- **对方实现**: 路由级别懒加载
- **优化**: React.lazy + Suspense

---

### 5. **PWA 支持** 📱

#### 5.1 离线可用
- **状态**: ❌ 未实现
- **对方实现**: Service Worker + Manifest
- **建议实现**:
```typescript
// vite-plugin-pwa
import { VitePWA } from 'vite-plugin-pwa';

VitePWA({
  registerType: 'autoUpdate',
  manifest: {
    name: '新标签页',
    short_name: 'NewTab',
    theme_color: '#667eea',
    icons: [/* ... */]
  }
})
```

#### 5.2 添加到主屏幕
- **状态**: ❌ 未实现
- **对方实现**: 移动端可安装为应用
- **依赖**: PWA Manifest

---

### 6. **用户体验** 🎯

#### 6.1 Cookie 合规提示 ⭐⭐
- **状态**: ❌ 未实现
- **对方实现**:
  - ✅ 首次访问显示 Cookie 使用说明
  - ✅ 三个选项："接受并继续" / "拒绝" / "自定义设置"
  - ✅ 明确说明数据用途：
    - 📱 保存您的网站收藏
    - 🎨 记住界面设置
    - ☁️ 同步云端数据
    - 📊 性能分析
  - ✅ 链接到隐私政策
- **用户价值**: 🟡 中 - 合规要求（尤其欧盟用户）
- **建议实现**:
```typescript
interface CookieConsent {
  necessary: boolean;    // 必要 Cookie（总是true）
  functional: boolean;   // 功能性（书签、设置）
  analytics: boolean;    // 分析统计
  accepted: boolean;     // 是否已响应
}

function CookieConsentBanner() {
  const [show, setShow] = useState(false);
  
  useEffect(() => {
    const consent = localStorage.getItem('cookie-consent');
    if (!consent) setShow(true);
  }, []);
  
  const handleAccept = () => {
    localStorage.setItem('cookie-consent', JSON.stringify({
      necessary: true,
      functional: true,
      analytics: true,
      accepted: true
    }));
    setShow(false);
  };
  
  return show ? (
    <motion.div className="fixed bottom-4 left-4 right-4 bg-white/95 backdrop-blur-md rounded-2xl p-6 shadow-2xl">
      <h3 className="text-lg font-semibold mb-2">🍪 Cookie使用说明</h3>
      <p className="text-sm text-gray-600 mb-4">
        我们使用Cookie和本地存储来提供更好的用户体验，包括：
        保存您的网站收藏、记住界面设置、同步云端数据、性能分析
      </p>
      <div className="flex gap-2">
        <button onClick={() => setShow(false)}>拒绝</button>
        <button onClick={handleAccept}>接受并继续</button>
      </div>
    </motion.div>
  ) : null;
}
```

#### 6.2 键盘快捷键
- **状态**: ❌ 未实现
- **建议快捷键**:
  - `Ctrl + K` - 聚焦搜索框
  - `Ctrl + ,` - 打开设置
  - `Ctrl + B` - 添加书签
  - `Esc` - 关闭面板

#### 6.2 键盘快捷键
- **状态**: ❌ 未实现
- **建议快捷键**:
  - `Ctrl + K` - 聚焦搜索框
  - `Ctrl + ,` - 打开设置
  - `Ctrl + B` - 添加书签
  - `Esc` - 关闭面板

#### 6.3 搜索历史
- **状态**: ❌ 未实现
- **建议**: 保存最近 10 条搜索记录

#### 6.4 书签导入
- **状态**: ✅ 已有导入导出
- **增强**: 支持从浏览器导入书签
```typescript
// 解析 Chrome 书签 HTML
function parseBookmarks(html: string): Bookmark[] {
  const parser = new DOMParser();
  const doc = parser.parseFromString(html, 'text/html');
  const links = doc.querySelectorAll('a');
  return Array.from(links).map(a => ({
    id: Date.now().toString(),
    title: a.textContent || '',
    url: a.href,
    icon: getFaviconUrl(a.href)
  }));
}
```

#### 6.5 隐私政策页面 ⭐
- **状态**: ❌ 未实现
- **对方实现**: 
  - ✅ 完整的隐私政策页面
  - ✅ 从 Cookie 提示链接过去
  - ✅ 说明数据收集和使用方式
- **用户价值**: 🟡 中 - 正式运营必需
- **建议**: 创建简单的隐私政策页面

#### 6.6 关于页面 / AI 协作说明
- **状态**: ❌ 未实现
- **对方实现**: 
  - ✅ 页面说明："AI友好的个性化便签页面"
  - ✅ 列出协作的AI工具（Claude、Coze、Kiro、Copilot）
  - ✅ 创作者信息：江江
- **建议**: 在设置面板中添加"关于"标签页
- **状态**: ❌ 未实现（仅中文）
- **对方实现**: 中英双语
- **建议**: i18next 国际化

---

## 🚀 优先级推荐（基于实际网站对比）

### 🔥 **高优先级**（立即实现 - 本周完成）
1. ✅ **动态壁纸 + 下载功能** - 🔴 核心视觉差异，用户最直观感受
2. ✅ **书签拖拽排序** - 🔴 基础交互，用户体验关键
3. ✅ **自动获取 Favicon** - 🔴 美观度大幅提升
4. ✅ **每日诗词** - 🟡 文化特色，差异化竞争点

### ⭐ **中优先级**（1-2周）
5. ✅ **Cookie 合规提示** - 🟡 法规要求，尤其面向海外用户
6. ✅ **暗黑模式** - 🟡 必备功能
7. ✅ **云端同步** - 🟡 跨设备使用核心
8. ✅ **书签搜索** - 🟡 书签多了必须有
9. ✅ **键盘快捷键** - 🟡 效率提升

### 💡 **低优先级**（长期规划）
10. ⭐ **Notion 集成** - 高级功能
11. ⭐ **PWA 支持** - 移动端体验
12. ⭐ **视差效果** - 视觉增强
13. ⭐ **待办事项** - 功能扩展
14. ⭐ **隐私政策页面** - 正式运营需要
15. ⭐ **关于页面** - 项目介绍

---

## 📈 实现路线图（修订版）

### **阶段一：视觉增强**（本周 - 最关键）
```
[ ] 🔴 必应动态壁纸（每日更新）
[ ] 🔴 壁纸下载按钮（"喜欢此壁纸？点击拿下"）
[ ] 🔴 壁纸信息展示（版权、来源）
[ ] 🟡 每日诗词组件
[ ] 🟡 暗黑模式切换
```

**预期效果**: 视觉体验达到 jiangjiang.cc 80% 水平

### **阶段二：交互优化**（第2周）
```
[ ] 书签拖拽排序
[ ] 自动获取 Favicon
[ ] Cookie 合规提示
[ ] 书签搜索过滤
[ ] 键盘快捷键
```

**预期效果**: 基础交互体验追平

### **阶段三：数据同步**（第3-4周）
```
[ ] Supabase 集成
[ ] 用户认证
[ ] 云端数据同步
[ ] 书签分类分组
```

**预期效果**: 实现跨设备使用

### **阶段四：高级功能**（长期）
```
[ ] Notion 工作空间集成
[ ] PWA 支持（离线可用）
[ ] 待办清单
[ ] 天气小组件
[ ] AI 智能推荐
[ ] 隐私政策页面
```

**预期效果**: 功能完整度超越对方

### 🔥 **高优先级**（立即实现）
1. ✅ **书签拖拽排序** - 提升用户体验
2. ✅ **自动获取 Favicon** - 美观度大幅提升
3. ✅ **每日壁纸** - 核心视觉功能
4. ✅ **暗黑模式** - 必备功能

### ⭐ **中优先级**（1-2周）
5. ✅ **云端同步** - 跨设备使用
6. ✅ **书签搜索** - 书签多了必须有
7. ✅ **键盘快捷键** - 效率提升
8. ✅ **PWA 支持** - 移动端体验

### 💡 **低优先级**（长期规划）
9. ⭐ **Notion 集成** - 高级功能
10. ⭐ **每日诗词** - 锦上添花
11. ⭐ **待办事项** - 功能扩展
12. ⭐ **视差效果** - 视觉增强

---

## 📈 实现路线图

### **阶段一：基础增强**（1周）
```
[ ] 书签拖拽排序
[ ] 自动获取 Favicon
[ ] 每日必应壁纸
[ ] 暗黑模式切换
```

### **阶段二：核心功能**（2周）
```
[ ] Supabase 云同步
[ ] 书签分类分组
[ ] 书签搜索过滤
[ ] 键盘快捷键
```

### **阶段三：体验优化**（1周）
```
[ ] PWA 支持
[ ] 图片懒加载
[ ] 搜索历史
[ ] 多语言支持
```

### **阶段四：特色功能**（长期）
```
[ ] Notion 集成
[ ] 每日诗词
[ ] 待办清单
[ ] 天气小组件
[ ] AI 智能推荐
```

---

## 🎯 你的独有优势

| 功能 | 说明 | 竞争力 |
|------|------|--------|
| ✅ **Custom CSS** | jiangjiang.cc 没有！让用户完全自定义样式 | 🌟🌟🌟 |
| ✅ **React Compiler** | 性能比对方更优，React 19 最新特性 | 🌟🌟 |
| ✅ **代码质量** | TypeScript + 规范的架构 | 🌟🌟 |
| ✅ **浏览器扩展** | Manifest V3 完善支持 | 🌟🌟 |

---

## 📊 总结

### 功能完成度统计（基于实际网站）
- **已实现**: 10 项核心功能
- **部分实现**: 5 项
- **未实现**: 18 项功能（包括实际网站新发现的）
- **独有功能**: 1 项（Custom CSS）

### 关键差距
1. 🔴 **壁纸系统** - 对方有动态壁纸 + 下载功能，你只有静态背景
2. 🔴 **文化元素** - 对方有每日诗词，增加趣味性
3. 🔴 **合规性** - 对方有 Cookie 提示和隐私政策
4. 🔴 **云同步** - 对方支持跨设备，你只有本地存储

### 建议方向
1. **本周重点**: 动态壁纸 + 下载 + 诗词（缩小视觉差距）
2. **下周重点**: 拖拽排序 + 自动图标（提升交互体验）
3. **月度目标**: 实现云同步（解决核心痛点）
4. **长期目标**: 打造特色功能，超越对手

### 竞争优势
你的 **Custom CSS** 功能是独有的，这是一个很好的差异化点。可以在此基础上：
- 提供更多预设主题
- 社区分享 CSS 模板
- 在线 CSS 编辑器
- 实时预览效果

---

## 🔗 参考资源

### API 接口
- **必应壁纸**: `https://bing.com/HPImageArchive.aspx?format=js&idx=0&n=1`
- **今日诗词**: `https://v1.jinrishici.com/all.json`
- **Favicon**: `https://www.google.com/s2/favicons?domain={domain}&sz=128`
- **高德天气**: `https://lbs.amap.com/api/webservice/guide/api/weatherinfo`

### 技术文档
- **Supabase**: https://supabase.com/docs
- **React DnD Kit**: https://dndkit.com/
- **PWA**: https://vite-pwa-org.netlify.app/
- **Framer Motion**: https://www.framer.com/motion/

### 对方网站
- **实际网站**: https://jiangjiang.cc/
- **GitHub 仓库**: https://github.com/jiangjianghong/tomato-tab

### 设计参考
- **Cookie 合规**: GDPR 要求，参考对方的实现
- **壁纸系统**: 必应每日壁纸 + 下载功能
- **文化元素**: 中国古诗词 API 集成

---

## 🎯 下一步行动

### 立即开始（今天）
1. 创建 `BingWallpaper.tsx` 组件
2. 集成必应壁纸 API
3. 添加壁纸下载按钮
4. 创建 `Poetry.tsx` 组件
5. 集成诗词 API

### 本周完成
1. 完善壁纸信息展示（版权、来源）
2. 添加暗黑模式切换
3. 优化动画效果
4. 测试跨浏览器兼容性

### 需要帮助？
选择你想要实现的功能：
- 🔴 动态壁纸 + 下载
- 🟡 每日诗词
- 🟡 Cookie 合规提示
- 🟡 暗黑模式
- 其他功能

---

**文档版本**: v2.0  
**最后更新**: 2025年12月30日  
**基于实际网站**: https://jiangjiang.cc/
